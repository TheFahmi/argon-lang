// Argon Enterprise Modules Test (v3.0.0)

fn main() {
    print("=== Argon v3.0.0 Enterprise Modules Test ===");
    print("");
    
    // Test Crypto
    print("1. Crypto Module:");
    print("   randomBytes(4) = " + randomBytes(4));
    print("   uuid = " + uuid());
    print("   simpleHash(12345) = " + toHex(12345));
    
    print("");
    
    // Test HTTP Constants
    print("2. HTTP Module:");
    print("   HTTP_OK = " + toString(HTTP_OK));
    print("   HTTP_CREATED = " + toString(HTTP_CREATED));
    print("   HTTP_NOT_FOUND = " + toString(HTTP_NOT_FOUND));
    print("   statusText(200) = " + statusText(200));
    print("   statusText(404) = " + statusText(404));
    print("   statusText(500) = " + statusText(500));
    
    print("");
    print("=== All Enterprise Tests Passed! ===");
}

// Crypto: Convert to hex
fn toHex(n: int) -> string {
    let hex = "";
    let chars = "0123456789abcdef";
    let num = n;
    if (num < 0) { num = 0 - num; }
    if (num == 0) { return "0"; }
    while (num > 0) {
        let digit = num % 16;
        hex = charAt(chars, digit) + hex;
        num = num / 16;
    }
    return hex;
}

// Crypto: Random bytes as hex
fn randomBytes(length: int) -> string {
    let result = "";
    let i = 0;
    while (i < length) {
        let byte = randInt(0, 255);
        if (byte < 16) {
            result = result + "0";
        }
        result = result + toHex(byte);
        i = i + 1;
    }
    return result;
}

// HTTP Status Codes
let HTTP_OK = 200;
let HTTP_CREATED = 201;
let HTTP_NO_CONTENT = 204;
let HTTP_BAD_REQUEST = 400;
let HTTP_UNAUTHORIZED = 401;
let HTTP_FORBIDDEN = 403;
let HTTP_NOT_FOUND = 404;
let HTTP_INTERNAL_ERROR = 500;

fn statusText(code: int) -> string {
    if (code == 200) { return "OK"; }
    if (code == 201) { return "Created"; }
    if (code == 204) { return "No Content"; }
    if (code == 400) { return "Bad Request"; }
    if (code == 401) { return "Unauthorized"; }
    if (code == 403) { return "Forbidden"; }
    if (code == 404) { return "Not Found"; }
    if (code == 500) { return "Internal Server Error"; }
    return "Unknown";
}
