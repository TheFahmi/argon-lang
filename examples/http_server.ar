fn startServer() {
    let port = 3000;
    print("Starting HTTP Server on port " + port);
    
    let server = argonListen(port);
    if (server < 0) {
        print("Failed to bind port.");
        return 0;
    }
    
    print("Ready to accept connections...");
    
    while (1) {
        let client = argonAccept(server);
        if (client != -1) {
            let req = argonSocketRead(client);
            // print(req); // Optional debug
            
            let body = "Hello form Argon Native Server!";
            let resp = "HTTP/1.1 200 OK\r\nContent-Type: text/plain\r\n\r\n" + body;
            
            argonSocketWrite(client, resp);
            argonSocketClose(client);
        }
    }
    return 0;
}

fn main() {
    startServer();
}
